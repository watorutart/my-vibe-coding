# 🔔 Agent操作ルール - ユーザー通知システム

## ⚙️ 通知設定
**現在の設定: A) 高頻度通知 (ACTIVE)**
- 通知レベル: 最大感度
- 適用日時: 2025年6月5日
- 対象範囲: 全ての判断ポイント + 重要作業ステップ

## 📋 通知が必要な場面

### 🚨 必須通知（音声アラート）

#### 1. **ユーザー判断が必要な場面**
- 複数の実装方針から選択が必要
- エラー修正方法の選択肢提示
- 新機能の仕様詳細確認
- 破壊的変更の実行前確認

#### 2. **重要な作業完了確認**
- Phase完了時の最終確認
- テスト失敗時の対応判断
- ビルドエラー発生時の修正方針
- 大きなリファクタリング実行前

#### 3. **外部操作が必要な場面**
- ブラウザでの動作確認要請
- 手動でのファイル確認要請
- Git操作の確認要請
- 設定ファイル変更の確認

#### 4. **プロジェクト重要節目**
- 新Phase開始前の確認
- 重要機能実装完了報告
- 品質チェック結果の重要問題発見
- アーキテクチャ変更提案

### 🔊 通知音の表現方法

```
🔔 NOTIFICATION: [通知内容]
```

#### 使用例：
```
🔔 NOTIFICATION: ユーザー確認が必要です
Phase 2のAI会話パターン実装において、以下の方針のうちどちらを選択しますか？
A) シンプルな条件分岐方式
B) 高度なパターンマッチング方式
```

### 🎵 音声通知システム（macOS）

#### Agent動作ルール
- **ユーザー操作待ち状態**になった際は `afplay /Library/Sounds/Basso.aiff` を実行
- **作業完了**した際は `afplay /Library/Sounds/Basso.aiff` を実行
- システム音声により、ユーザーの注意を喚起

## 📝 実装ガイドライン

### Agent側の対応
1. **判断ポイント識別**
   - 自動実行できない作業の特定
   - ユーザー入力が必要な箇所の認識
   - 重要な節目の自動検出

2. **適切な通知タイミング**
   - 作業停止前の事前通知
   - 選択肢提示と合わせた通知
   - 完了報告時の確認通知

3. **通知内容の明確化**
   - 何について判断が必要か
   - どのような選択肢があるか
   - 期待される応答の形式

### ユーザー側の対応
1. **通知への迅速な対応**
   - 🔔マークを見逃さない
   - 必要な判断を迅速に行う
   - 不明点は即座に質問

2. **フィードバック提供**
   - 判断結果の明確な回答
   - 追加要求事項の明示
   - 変更希望の具体的指示

## 🎯 通知システムの効果

### 期待される改善点
- **見逃し防止**: 重要な判断ポイントの確実な認識
- **効率向上**: 適切なタイミングでの中断・再開
- **品質向上**: 重要な確認事項の漏れ防止
- **体験向上**: スムーズな開発フロー実現

### 運用ルール
- 通知は必要最小限に留める
- 緊急度に応じた通知レベル設定
- 通知内容の簡潔性と明確性を重視
- ユーザーの作業状況を考慮した通知タイミング

## 🔄 継続的改善

### 通知システムの最適化
- 通知頻度の適正化
- 通知内容の改善
- ユーザーフィードバックに基づく調整
- 新しい通知パターンの追加

### 効果測定
- 見逃し件数の減少
- 判断時間の短縮
- 開発効率の向上
- ユーザー満足度の向上

このルールにより、Agent操作時の重要なポイントを見逃すことなく、効率的で高品質な開発を実現します。

## 🔊 Agent動作ルール

### macOS音声通知システム
以下の場面で音声通知を実行する：

#### Agent動作ルール
- **ユーザー操作待ち状態**になった際は `afplay /System/Library/Sounds/Basso.aiff` を実行
- **作業完了**した際は `afplay /System/Library/Sounds/Basso.aiff` を実行

---
📅 作成日: 2025年6月5日
🔄 更新履歴: v1.1 - Agent音声通知ルール追加
