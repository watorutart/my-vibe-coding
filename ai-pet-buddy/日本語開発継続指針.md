# 🌏 AI Pet Buddy - 日本語開発継続のための再発防止策

## 📋 言語設定に関する再発防止策

### 1. 基本方針
- **GitHub Copilotとの会話**: 必ず日本語で行う
- **コメント**: 日本語でコメントを記述
- **ドキュメント**: 日本語で作成・更新
- **エラーメッセージ**: 日本語で理解・説明

### 2. 開発環境設定

#### VS Code設定
```json
{
  "github.copilot.advanced": {
    "language": "ja"
  },
  "editor.comments.insertSpace": true,
  "editor.quickSuggestions": {
    "comments": true
  }
}
```

#### コメント記述ルール
```typescript
// ✅ 良い例（日本語）
/**
 * ペットの幸福度を更新する関数
 * @param currentHappiness 現在の幸福度
 * @param increment 増加量
 * @returns 更新後の幸福度
 */
const updateHappiness = (currentHappiness: number, increment: number): number => {
  // 最大値100を超えないように制限
  return Math.min(currentHappiness + increment, 100)
}

// ❌ 避けるべき例（英語）
/**
 * Update pet happiness
 * @param currentHappiness current happiness value  
 * @param increment increment amount
 * @returns updated happiness
 */
```

### 3. Phase別日本語開発指針

#### Phase 2 (コア機能開発)
- [ ] **自動ステータス減少システム**
  - `useInterval`フックの実装（日本語コメント付き）
  - ステータス減少ロジックのテスト（日本語テスト名）
  
- [ ] **レベルアップシステム**
  - 経験値計算関数（日本語ドキュメント）
  - レベルアップ条件の定義（日本語説明）

- [ ] **AI会話パターン**
  - 会話パターンの日本語実装
  - ステータス別返答システム

#### Phase 3 (ビジュアル強化)
- [ ] **スプライト・アニメーション**
  - CSS アニメーション実装（日本語クラス名）
  - 進化システムの視覚的表現

#### Phase 4 (データ永続化・デプロイ)
- [ ] **LocalStorage実装**
  - データ保存・読み込み機能
  - エラーハンドリング

### 4. 日本語開発チェックリスト

新機能実装前に確認すべき項目：
- [ ] GitHub Copilotとの会話を日本語で開始したか？
- [ ] 関数・変数名は英語（国際標準）、コメントは日本語になっているか？
- [ ] テスト名は日本語で理解しやすく記述されているか？
- [ ] エラーメッセージやログは日本語で記述されているか？
- [ ] ドキュメントの更新は日本語で行ったか？

### 5. コミットメッセージ規約

```bash
# ✅ 推奨フォーマット（日本語）
git commit -m "feat: ペットの自動ステータス減少機能を実装

- useIntervalフックでステータスの自動減少を実装
- 減少速度は幸福度/空腹度/エネルギーで異なる設定
- テストカバレッジを95%以上に維持"

# ❌ 避けるべき例（英語）
git commit -m "feat: implement auto stat decay system"
```

### 6. エラー対応プロトコル

エラー発生時の対応順序：
1. **エラーメッセージを日本語で理解**
2. **GitHub Copilotに日本語で質問**
3. **解決策を日本語でドキュメント化**
4. **再発防止策を日本語で記録**

### 7. Phase 2 開発開始時のセットアップ

```bash
# 開発環境確認コマンド
cd /Users/suzukiwataru/src/my-vibe-coding/ai-pet-buddy

# 現在のテスト状況確認
npm run test:coverage

# 開発サーバー起動
npm run dev

# テスト監視モード（開発中）
npm run test
```

### 8. 定期チェック項目

毎日の開発終了時に確認：
- [ ] すべてのテストが通っているか？（`npm run test:run`）
- [ ] テストカバレッジが80%以上を維持しているか？
- [ ] 新しく追加した機能にテストが書かれているか？
- [ ] コメントとドキュメントが日本語で記述されているか？
- [ ] Git コミットメッセージが日本語で記述されているか？

## 🎯 Phase 2 開発目標

### 実装予定機能（日本語仕様）
1. **自動ステータス減少システム**
   - 時間経過によるステータス自動減少
   - 減少速度の調整可能性

2. **レベルアップシステム**
   - 幸福度維持による経験値獲得
   - レベルアップ時の視覚的フィードバック

3. **AI会話パターン**
   - ステータス別の会話内容
   - ランダム要素を含む返答システム

4. **データ永続化**
   - LocalStorageでのペット状態保存
   - アプリ再起動時の状態復元

### 開発スケジュール
- **Day 2**: 自動ステータス減少 + テスト実装
- **Day 3**: レベルアップシステム + テスト実装  
- **Day 4**: AI会話パターン + テスト実装
- **Day 5**: データ永続化 + 総合テスト

## 🚨 重要な約束事

1. **GitHub Copilotへの指示は必ず日本語で行う**
2. **新機能実装時は必ずテストを先に書く（TDD）**
3. **日本語コメントとドキュメントを必ず更新する**
4. **テストカバレッジ80%以上を維持する**

この再発防止策により、今後の開発を一貫して日本語で進めることができます。
